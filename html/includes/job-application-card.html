<!-- Template reutilizable para renderizar una tarjeta de postulación -->
<template id="job-application-card-template">
  <article class="bg-white rounded-lg shadow-lg p-6 transition-shadow hover:shadow-xl job-app-card">
    <div class="flex flex-col md:flex-row gap-6">
      <div class="flex-shrink-0">
        <div class="w-20 h-20 rounded-lg bg-gradient-to-br from-blue-600 to-indigo-600 flex items-center justify-center text-white text-2xl font-bold" data-initials>AA</div>
      </div>
      <div class="flex-1 min-w-0">
        <div class="flex items-start md:items-center justify-between gap-4">
          <div class="min-w-0">
            <a data-job-link href="#" class="text-lg md:text-xl font-extrabold text-gray-800 hover:text-blue-700 truncate" data-job-title>Oferta</a>
            <div class="flex items-center gap-2 mt-1 flex-wrap">
              <span class="text-sm text-gray-600" data-company-name>Empresa</span>
              <span class="ml-2 inline-block px-2 py-0.5 rounded text-xs font-semibold" data-status-badge>Estado</span>
            </div>
          </div>
          <div class="text-right hidden md:block">
            <div class="text-sm text-gray-500" data-created-at>hace X</div>
          </div>
        </div>

        <p class="mt-3 text-gray-700 text-sm md:text-base" data-message>Sin mensaje</p>

        <!-- Última entrevista (opcional) -->
        <div class="mt-4 p-4 bg-gradient-to-r from-green-50 to-white border border-green-100 rounded-lg flex items-center justify-between hidden" data-latest-interview>
          <div>
            <div class="text-sm font-semibold text-green-700">Entrevista programada</div>
            <div class="text-xs text-gray-500">
              <span data-interview-when>--/--/---- --:--</span>
              · <span data-interview-mode>N/A</span>
            </div>
          </div>
          <div class="text-right text-sm text-gray-600">Duración: <span data-interview-duration>30</span> min</div>
        </div>

        <div class="mt-4 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3">
          <div class="flex items-center gap-3">
            <a href="#" target="_blank" rel="noopener" class="inline-flex items-center gap-2 border border-gray-200 rounded px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 hidden" data-cv-link>📄 Descargar CV</a>
            <button type="button" class="inline-flex items-center gap-2 border border-gray-200 rounded px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 hidden" data-action="view-message">💬 Ver mensaje</button>
          </div>
          <div class="flex items-center gap-3">
            <a href="#" class="bg-indigo-600 text-white px-4 py-2 rounded text-sm hidden" data-action="view-times">Ver horarios</a>
            <button type="button" class="bg-green-600 text-white px-3 py-2 rounded text-sm hidden" data-action="schedule">Programar Entrevista</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Modal: mensaje de postulación -->
    <div class="fixed inset-0 flex items-center justify-center z-50 hidden" data-modal="message" style="background-color: rgba(0,0,0,0.06); backdrop-filter: blur(3px); -webkit-backdrop-filter: blur(3px);">
      <div class="bg-white rounded-lg shadow p-6 max-w-lg w-full relative border">
        <button type="button" class="absolute top-3 right-3 text-gray-400 hover:text-gray-700 text-2xl" data-action="close-message">&times;</button>
        <h3 class="text-lg font-semibold mb-3">Mensaje de postulación</h3>
        <div class="text-gray-700 whitespace-pre-line" data-message-content></div>
      </div>
    </div>
  </article>
</template>
