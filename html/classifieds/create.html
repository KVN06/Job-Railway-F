<!doctype html>
<html lang="es">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<title>Crear clasificado</title>
		<link rel="stylesheet" href="/resources/css/app.css" />
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />
	</head>
	<body class="bg-gray-50 text-gray-900">
		<!-- Header autenticado -->
		<div data-include="/html/includes/headers/header-profile.html"></div>

		<main class="container mx-auto px-4 py-8">
			<section class="max-w-2xl mx-auto" data-page="classifieds-create">
				<header class="text-center mb-8">
					<div class="w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4" style="background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);">
						<i class="fas fa-bullhorn text-2xl text-white"></i>
					</div>
					<h1 class="text-3xl font-bold text-gray-800">Crear Nuevo Clasificado</h1>
					<p class="text-gray-600">Completa la información para publicar tu anuncio</p>
				</header>

				<div class="bg-white rounded-xl shadow-soft">
					<form class="p-8">
						<p data-error-global class="hidden"></p>

						<div class="mb-4">
							<label for="title" class="block text-sm font-medium text-gray-700">Título <span class="text-red-500">*</span></label>
							<input type="text" id="title" name="title" required class="mt-1 block w-full rounded-md border-2 border-gray-200 px-4 py-3 focus:border-blue-500 focus:ring-blue-500" placeholder="Ej: Servicios de diseño gráfico" />
						</div>

						<div class="mb-4">
							<label for="description" class="block text-sm font-medium text-gray-700">Descripción <span class="text-red-500">*</span></label>
							<textarea id="description" name="description" rows="4" required class="mt-1 block w-full rounded-md border-2 border-gray-200 px-4 py-3 focus:border-blue-500 focus:ring-blue-500" placeholder="Describe el servicio o producto ofrecido..."></textarea>
						</div>

						<div class="mb-4">
							<label for="location" class="block text-sm font-medium text-gray-700">Ubicación</label>
							<input type="text" id="location" name="location" class="mt-1 block w-full rounded-md border-2 border-gray-200 px-4 py-3 focus:border-blue-500 focus:ring-blue-500" placeholder="Ciudad, país o remoto" />
						</div>

						<div class="mb-4">
							<label for="geolocation" class="block text-sm font-medium text-gray-700">Coordenadas (opcional)</label>
							<input type="text" id="geolocation" name="geolocation" class="mt-1 block w-full rounded-md border-2 border-gray-200 px-4 py-3 focus:border-blue-500 focus:ring-blue-500" placeholder="lat,lng (ej: 4.7110,-74.0721)" />
							<p class="mt-1 text-xs text-gray-500">Latitud y longitud separadas por coma</p>
						</div>

						<div class="mb-6">
							<label for="salary" class="block text-sm font-medium text-gray-700">Salario (opcional)</label>
							<input type="number" id="salary" name="salary" step="0.01" class="mt-1 block w-full rounded-md border-2 border-gray-200 px-4 py-3 focus:border-blue-500 focus:ring-blue-500" placeholder="Ej: 1500.00" />
						</div>

						<div class="mb-8">
							<label class="block text-sm font-medium text-gray-700 mb-2">Categorías</label>
							<div data-categories class="border rounded-md border-gray-200 p-4 max-h-56 overflow-y-auto bg-gray-50">
								<p class="text-sm text-slate-500">Cargando categorías...</p>
							</div>
						</div>

						<div class="flex justify-end gap-3">
							<a href="/html/classifieds/index.html" class="bg-gray-100 hover:bg-gray-200 text-gray-700 px-5 py-3 rounded-xl">Cancelar</a>
							<button type="submit" class="text-white px-5 py-3 rounded-xl" style="background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);">Publicar Clasificado</button>
						</div>
					</form>
				</div>
			</section>
		</main>

		<!-- Footer -->
		<div data-include="/html/includes/footer.html"></div>

		<script>
			(async function(){
				const slots = document.querySelectorAll('[data-include]');
				for (const slot of slots) {
					const url = slot.getAttribute('data-include');
					try {
						const res = await fetch(url, { credentials: 'same-origin' });
						if (res.ok) slot.outerHTML = await res.text();
					} catch {}
				}
				document.dispatchEvent(new CustomEvent('includes:ready'));
			})();
		</script>
		<script type="module" src="/resources/js/app.js"></script>
	</body>
</html>
